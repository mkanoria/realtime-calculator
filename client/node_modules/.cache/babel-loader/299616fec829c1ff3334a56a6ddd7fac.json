{"ast":null,"code":"import { evaluate, exp } from \"mathjs\";\nexport default function calculate(obj, buttonName) {\n  if (buttonName === \"CLR\") {\n    obj.updateEquation([]);\n    obj.setTotal(0);\n  } else if (buttonName === \"DEL\") {\n    // Pop off the last added item into the array\n    obj.updateEquation(oldEquation => oldEquation.slice(0, -1));\n  } else if (buttonName === \"=\") {\n    // Do calculations\n    console.log(\"Calculating\"); // Create expression string\n\n    let expression = obj.equation.join(\"\"); // Reset equation\n\n    obj.updateEquation([]);\n    console.log(\"Expression is \", expression);\n    let result = evaluate(expression);\n    console.log(\"Result is: \", result);\n    obj.setTotal(result);\n    expression = expression.concat(\"=\", result);\n    obj.setResponse();\n    return true;\n  } else {\n    // If there's more elements being added to the equation, then reset the total\n    obj.updateEquation(oldEquation => [...oldEquation, buttonName]);\n    obj.setTotal(0);\n  }\n\n  return false;\n}","map":{"version":3,"sources":["/Users/mayankkanoria/Documents/Personal/calculator/src/operations/calculate.js"],"names":["evaluate","exp","calculate","obj","buttonName","updateEquation","setTotal","oldEquation","slice","console","log","expression","equation","join","result","concat","setResponse"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,GAAnB,QAA8B,QAA9B;AAEA,eAAe,SAASC,SAAT,CAAmBC,GAAnB,EAAwBC,UAAxB,EAAoC;AACjD,MAAIA,UAAU,KAAK,KAAnB,EAA0B;AACxBD,IAAAA,GAAG,CAACE,cAAJ,CAAmB,EAAnB;AACAF,IAAAA,GAAG,CAACG,QAAJ,CAAa,CAAb;AACD,GAHD,MAGO,IAAIF,UAAU,KAAK,KAAnB,EAA0B;AAC/B;AACAD,IAAAA,GAAG,CAACE,cAAJ,CAAoBE,WAAD,IAAiBA,WAAW,CAACC,KAAZ,CAAkB,CAAlB,EAAqB,CAAC,CAAtB,CAApC;AACD,GAHM,MAGA,IAAIJ,UAAU,KAAK,GAAnB,EAAwB;AAC7B;AACAK,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAF6B,CAG7B;;AACA,QAAIC,UAAU,GAAGR,GAAG,CAACS,QAAJ,CAAaC,IAAb,CAAkB,EAAlB,CAAjB,CAJ6B,CAK7B;;AACAV,IAAAA,GAAG,CAACE,cAAJ,CAAmB,EAAnB;AACAI,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BC,UAA9B;AACA,QAAIG,MAAM,GAAGd,QAAQ,CAACW,UAAD,CAArB;AACAF,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BI,MAA3B;AACAX,IAAAA,GAAG,CAACG,QAAJ,CAAaQ,MAAb;AACAH,IAAAA,UAAU,GAAGA,UAAU,CAACI,MAAX,CAAkB,GAAlB,EAAuBD,MAAvB,CAAb;AACAX,IAAAA,GAAG,CAACa,WAAJ;AACA,WAAO,IAAP;AACD,GAdM,MAcA;AACL;AACAb,IAAAA,GAAG,CAACE,cAAJ,CAAoBE,WAAD,IAAiB,CAAC,GAAGA,WAAJ,EAAiBH,UAAjB,CAApC;AACAD,IAAAA,GAAG,CAACG,QAAJ,CAAa,CAAb;AACD;;AACD,SAAO,KAAP;AACD","sourcesContent":["import { evaluate, exp } from \"mathjs\";\n\nexport default function calculate(obj, buttonName) {\n  if (buttonName === \"CLR\") {\n    obj.updateEquation([]);\n    obj.setTotal(0);\n  } else if (buttonName === \"DEL\") {\n    // Pop off the last added item into the array\n    obj.updateEquation((oldEquation) => oldEquation.slice(0, -1));\n  } else if (buttonName === \"=\") {\n    // Do calculations\n    console.log(\"Calculating\");\n    // Create expression string\n    let expression = obj.equation.join(\"\");\n    // Reset equation\n    obj.updateEquation([]);\n    console.log(\"Expression is \", expression);\n    let result = evaluate(expression);\n    console.log(\"Result is: \", result);\n    obj.setTotal(result);\n    expression = expression.concat(\"=\", result);\n    obj.setResponse();\n    return true;\n  } else {\n    // If there's more elements being added to the equation, then reset the total\n    obj.updateEquation((oldEquation) => [...oldEquation, buttonName]);\n    obj.setTotal(0);\n  }\n  return false;\n}\n"]},"metadata":{},"sourceType":"module"}